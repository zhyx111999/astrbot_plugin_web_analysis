{
  "enable_auto_detect": {
    "description": "自动识别消息中的URL并解析",
    "type": "bool",
    "default": true
  },
  "max_urls_per_message": {
    "description": "单条消息最多处理的URL数量",
    "type": "int",
    "default": 1
  },
  "http_timeout_sec": {
    "description": "HTTP请求超时（秒）",
    "type": "float",
    "default": 15
  },
  "http_user_agent": {
    "description": "HTTP抓取的User-Agent",
    "type": "string",
    "default": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
  },
  "http_proxy": {
    "description": "HTTP代理（留空不用），例：http://127.0.0.1:7890",
    "type": "string",
    "default": ""
  },
  "render_mode": {
    "description": "渲染兜底模式：auto=抓不到再渲染；always=总是渲染；never=禁用渲染",
    "type": "string",
    "default": "auto",
    "options": [
      "auto",
      "always",
      "never"
    ]
  },
  "render_timeout_ms": {
    "description": "Playwright渲染超时(ms)",
    "type": "int",
    "default": 20000
  },
  "min_text_length_to_skip_render": {
    "description": "抓取文本长度>=该值则不渲染兜底",
    "type": "int",
    "default": 200
  },
  "max_render_concurrency": {
    "description": "渲染并发（建议1-2）",
    "type": "int",
    "default": 2
  },
  "site_rules_json": {
    "description": "特殊站点规则(JSON数组)，可针对特定域名设置等待选择器等。",
    "type": "text",
    "default": "[]",
    "editor_mode": true,
    "editor_language": "json"
  },
  "domain_rules_json": {
    "description": "域名名单(JSON对象)。allow为白名单，deny为黑名单(默认已屏蔽视频站)。",
    "type": "text",
    "default": "{\"allow\": [], \"deny\": [\"bilibili.com\", \"b23.tv\", \"douyin.com\", \"iesdouyin.com\", \"kuaishou.com\", \"gifshow.com\", \"youtube.com\"]}",
    "editor_mode": true,
    "editor_language": "json"
  },
  "cookies_json": {
    "description": "自定义Cookies(JSON数组)，用于需要登录的站点。",
    "type": "text",
    "default": "[]",
    "editor_mode": true,
    "editor_language": "json"
  },
  "extra_headers_json": {
    "description": "额外请求头(JSON对象)",
    "type": "text",
    "default": "{}",
    "editor_mode": true,
    "editor_language": "json"
  },
  "enable_cache": {
    "description": "是否启用缓存",
    "type": "bool",
    "default": true
  },
  "cache_ttl_sec": {
    "description": "缓存有效期（秒）",
    "type": "int",
    "default": 3600
  },
  "enable_llm": {
    "description": "是否使用LLM总结",
    "type": "bool",
    "default": true
  },
  "llm_model": {
    "description": "模型名",
    "type": "string",
    "default": ""
  },
  "llm_base_url": {
    "description": "URL",
    "type": "string",
    "default": ""
  },
  "llm_api_key": {
    "description": "KEY",
    "type": "string",
    "default": ""
  },
  "llm_timeout_sec": {
    "description": "LLM调用超时（秒）",
    "type": "float",
    "default": 60
  },
  "analysis_prompt_template": {
    "description": "分析提示词任务说明",
    "type": "string",
    "default": "请阅读以下网页内容，并完成以下任务：\n1. 【站点性质判断】分析该网页的功能（如：新闻/博客/钓鱼网站/后台/论坛等）。\n2. 【内容摘要】总结核心信息，忽略广告和无关干扰。\n"
  },
  "analysis_prompt_user_persona": {
    "description": "风格要求（强烈建议填入：请保持你现在的AI人设语气进行回答）",
    "type": "string",
    "default": "请务必保持你作为当前AI助手的人设语气（不要变成无情的摘要机器），用你的口吻向用户汇报分析结果。如果内容有安全风险，请用警告的语气。"
  },
  "screenshot_enabled": {
    "description": "是否启用截图链路（默认关闭，开启需要 playwrought）",
    "type": "bool",
    "default": false
  },
  "screenshot_mode": {
    "description": "截图模式：off=关闭; on_failure=仅当LLM失败时发图; always=总是发图",
    "type": "string",
    "default": "off",
    "options": ["off", "on_failure", "always"]
  }
}
